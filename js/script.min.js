var SimpleTimer=function(){let e,t,n,l,s,i,o,u=0,r=0,a=0;function c(e){return e<10?"0"+e:e}(o=document.createElement("div")).classList.add("timer"),(e=document.createElement("span")).classList.add("mins"),e.textContent="00",(t=document.createElement("span")).classList.add("secs"),t.textContent="00",(n=document.createElement("span")).classList.add("milis"),n.textContent="0",o.appendChild(e),o.appendChild(t),o.appendChild(n),this.getElement=function(){return o},this.start=function(){i=setInterval(function(){10===++a&&(a=0),n.innerText=a},100),s=setInterval(function(){60===++r&&(r=0),t.innerText=c(r)},1e3),l=setInterval(function(){u++,e.innerText=c(u)},6e4)},this.stop=function(){clearInterval(i),clearInterval(s),clearInterval(l)},this.getStringTime=function(){let e="";return e+=c(u)+":"+c(r)+":"+a}};const GameResultView=function(e,t){var n=null,l=null,s=null,i=null,o=null,u=null,r=e;this.getResultElement=function(){return n},function(){let e=document.createElement("div");e.classList.add("result-number"),e.innerText=t,l=e}(),function(){let e=document.createElement("div");e.classList.add("result-effect"),r.isWin?e.classList.add("win"):e.classList.add("defeat"),s=e}(),function(){let e=document.createElement("div");e.classList.add("result-time"),e.innerText=r.time,i=e}(),function(){let e=document.createElement("div");e.classList.add("result-datetime"),void 0!==r.datetime?e.innerText=r.datetime:e.innerText="???",o=e}(),function(){let e=document.createElement("i");e.classList.add("result-remove","far","fa-trash-alt"),e.addEventListener("click",function(){let e="game-"+r.id;console.log(e);let t=this.parentElement;t.classList.add("removed"),localStorage.removeItem(e),t.addEventListener("transitionend",function(){console.dir(t.parentElement);let e=t.parentElement;null!==e&&e.removeChild(t)})}),u=e}(),function(){let e=document.createElement("div");e.classList.add("result"),e.appendChild(l),e.appendChild(s),e.appendChild(i),e.appendChild(o),e.appendChild(u),n=e}()};function importJSON(e){let t=0;for(game of(localStorage.clear(),e.games))localStorage.setItem("game-"+game.id,JSON.stringify(game)),game.id>t&&(t=game.id);localStorage.setItem("gamesNumber",t)}function readJSONFile(e){let t=new FileReader;t.onload=function(e){let t,n;t=e.target.result,importJSON(n=JSON.parse(t))},t.readAsText(e)}GameResultView.createClearButton=function(){let e=document.createElement("a");return e.classList.add("clr-button","button"),e.setAttribute("href","index.html"),e.innerText="wyczyść wyniki",e.addEventListener("click",function(e){e.preventDefault(),localStorage.clear(),window.location=this.getAttribute("href")}),e},GameResultView.createExportButton=function(){let e=document.createElement("a"),t=new Blob([GameResultsHelper.jsonString],{type:"text/plain"});return e.classList.add("export-button","button"),e.setAttribute("href",URL.createObjectURL(t)),e.setAttribute("download","export.json"),e.innerText="eksportuj",e},GameResultView.createImportButton=function(){let e=document.createElement("div");e.classList.add("import-button","button");let t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept",".json"),t.setAttribute("id","file-import"),t.classList.add("import-input"),e.appendChild(t);let n=document.createElement("label");return n.setAttribute("for","file-import"),n.classList.add("import-label"),n.innerHTML="importuj",e.appendChild(n),t.addEventListener("change",function(e){let t=e.target.files;t.length>0?(console.log(t[0].name),readJSONFile(t[0])):console.log("Anulowano")}),e};const GameResultsHelper=function(){var e=void 0;function t(){var e=[],t=0;return function(){let e=localStorage.getItem("gamesNumber");null!==e&&(t=e)}(),function(){if(t>0){let n,l,s,i=0;for(let o=1;o<=t;o++)l="game-"+o,null!==(s=localStorage.getItem(l))&&(i++,n=JSON.parse(s),e.push(n))}}(),function(){let t='{"games": [';for(let n=0;n<e.length-1;n++)t+=JSON.stringify(e[n])+",";if(e.length>0){t+=JSON.stringify(e[e.length-1])+"]}";let n=JSON.stringify(JSON.parse(t),null,"\t");console.log(n),GameResultsHelper.jsonString=n}else GameResultsHelper.jsonString=""}(),{getModeWins:function(t,n,l){let s=0;for(r of e)r.dim==t&&r.min==n&&r.max==l&&r.isWin&&s++;return s},getResultsView:function(t,n,l){let s,i,o=document.createElement("div");o.classList.add("results-group"),o.dataset.groupName="dim-"+t+"-min-"+n+"-max-"+l;let u=function(t,n,l){let s=[];for(result of e)result.dim==t&&result.min==n&&result.max==l&&s.push(result);return s}(t,n,l);if(u.length>0)for(let e=0;e<u.length;e++)i=(s=new GameResultView(u[e],e+1)).getResultElement(),o.appendChild(i);else o.innerText="Brak rezultatów.";return o}}}return{initialize:function(){return e||(e=t()),e}}}();let RulloSum=function(e,t){e=e;var n=null,l=(t=t,null),s=null,i=!1,o=!1;this.getTargetSum=function(){return e},this.setTargetSum=function(t){e=t},this.getTargetSumElement=function(){return n},this.setTargetSumElement=function(e){n=e},this.getCurrentSum=function(){return t},this.setCurrentSum=function(e){t=e,this.setCompleted(this.compare())},this.getCurrentSumElement=function(){return l},this.setCurrentSumElement=function(e){l=e},this.getSumElement=function(){return s},this.setSumElement=function(e){s=e},this.isCompleted=function(){return i},this.setCompleted=function(e){i=e},this.isLocked=function(){return o},this.setLocked=function(e){o=e},this.compare=function(){return t===e},this.setCompleted(this.compare()),this.createCurrentSumElement(),this.createTargetSumElement(),this.createSumElement()};function onSumHover(e,t){e.addEventListener("mouseover",function(){this.parentElement.querySelector(".sum--current").classList.add("sum--current--visible"),t.parentElement.querySelector(".sum--current").classList.add("sum--current--visible")}),e.addEventListener("mouseout",function(){this.parentElement.querySelector(".sum--current").classList.remove("sum--current--visible"),t.parentElement.querySelector(".sum--current").classList.remove("sum--current--visible")})}function onSumClick(e,t){e.addEventListener("click",function(e){let n;if(e.target.closest(".sum--current"))this.querySelector(".sum--current--still-visible").classList.remove("sum--current--still-visible"),t.querySelector(".sum--current--still-visible").classList.remove("sum--current--still-visible");else{n=document.querySelectorAll(".sum--current--still-visible");for(let e of n)e.classList.remove("sum--current--still-visible");this.querySelector(".sum--current").classList.add("sum--current--still-visible"),t.querySelector(".sum--current").classList.add("sum--current--still-visible")}})}RulloSum.prototype.createTargetSumElement=function(){let e=document.createElement("div");e.classList.add("sum--target");let t=document.createElement("span");t.classList.add("sum__number"),t.textContent=this.getTargetSum(),e.appendChild(t),this.setTargetSumElement(e)},RulloSum.prototype.createCurrentSumElement=function(){let e=document.createElement("div");e.classList.add("sum--current");let t=document.createElement("span");t.classList.add("sum__number"),t.textContent=this.getCurrentSum(),e.appendChild(t),this.setCurrentSumElement(e)},RulloSum.prototype.createSumElement=function(){let e=document.createElement("div");e.classList.add("sum"),e.appendChild(this.getTargetSumElement()),e.appendChild(this.getCurrentSumElement()),this.setSumElement(e)},RulloSum.addSumMouseHoverEvents=function(e,t){let n=document.querySelectorAll(e),l=document.querySelectorAll(t);for(let e=0;e<n.length;e++)onSumHover(n[e],l[e]),onSumHover(l[e],n[e])},RulloSum.addSumClickEvents=function(e,t){let n=document.querySelectorAll(e),l=document.querySelectorAll(t);for(let e=0;e<n.length;e++)onSumClick(n[e],l[e]),onSumClick(l[e],n[e])};let RulloBall=function(e){e=e;var t=!0,n=!1,l=null,s=null,i=null;this.getNumber=function(){return e},this.setNumber=function(t){e=t},this.isEnabled=function(){return t},this.setEnabled=function(e){t=e},this.isLocked=function(){return n},this.setLocked=function(e){n=e},this.getBallElement=function(){return l},this.setBallElement=function(e){l=e},this.getRulloRow=function(){return i},this.setRulloRow=function(e){i=e},this.getRulloColumn=function(){return s},this.setRulloColumn=function(e){s=e},this.createBallElement(),this.addMouseEvents()};RulloBall.prototype.createBallElement=function(){let e,t;(e=document.createElement("div")).classList.add("ball","ball--on"),(t=document.createElement("span")).classList.add("ball__number"),t.textContent=this.getNumber(),e.appendChild(t),this.setBallElement(e)},RulloBall.prototype.onClick=function(){let e=this.getBallElement();e.classList.contains("ball--on")?(e.classList.remove("ball--on"),e.classList.add("ball--off"),this.setEnabled(!1)):(e.classList.remove("ball--off"),e.classList.add("ball--on"),this.setEnabled(!0)),row=this.getRulloRow(),null!==row&&(row.countCurrentSum(),row.updateCurrentSum()),col=this.getRulloColumn(),null!==col&&(col.countCurrentSum(),col.updateCurrentSum())},RulloBall.prototype.addMouseEvents=function(){let e,t=!1,n=this.getBallElement();n.addEventListener("mousedown",function(){e=setTimeout(function(){this.isLocked()?(n.classList.remove("ball--locked"),this.setLocked(!1)):(console.log(JSON.stringify(this)),n.classList.add("ball--locked"),this.setLocked(!0)),t=!0}.bind(this),500)}.bind(this)),n.addEventListener("mouseup",function(){clearTimeout(e),t||this.isLocked()||this.onClick(),t=!1}.bind(this))},RulloBall.prototype.reset=function(){this.getBallElement().classList.remove("ball--off"),this.getBallElement().classList.add("ball--on"),this.getBallElement().classList.remove("ball--locked"),this.setEnabled(!0),this.setLocked(!1)},RulloBall.prototype.toJSON=function(){return"Jestem JSONem"};let RulloRow=function(e){var t,n=e,l=[],s=-1,i=-1,o=-1,u=null,r=[];this.getNumber=function(e){return n[e]},this.getNumbers=function(){return n},this.getTargetNumbers=function(){return l},this.setTargetNumbers=function(e){l=e},this.getTargetNumber=function(e){return l[e]},this.getTotalRowSum=function(){return s},this.setTotalRowSum=function(e){s=e},this.getCurrentRowSum=function(){return i},this.setCurrentRowSum=function(e){i=e},this.getTargetRowSum=function(){return o},this.setTargetRowSum=function(e){o=e},this.getRowElement=function(){return u},this.setRowElement=function(e){u=e},this.addBall=function(e){r.push(e)},this.getBalls=function(){return r},this.getBall=function(e){return r[e]},this.getSum=function(){return t},this.setSum=function(e){t=e},this.countTotalSum(),this.generateTargetRowSum(),this.createRowElement()};function ignoreRandomBalls(e,t){let n,l=e.length,s=[],i=e.slice(0);for(let e=0;e<t;e++){do{n=Math.floor(Math.random()*l)}while(s.includes(n));s.push(n)}for(let e=0;e<s.length;e++)i[s[e]]=0;return console.log(s),i}function sumArrayElements(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}RulloRow.prototype.countTotalSum=function(e){let t=0;for(let e=0;e<this.getNumbers().length;e++)t+=this.getNumber(e);this.setTotalRowSum(t),this.setCurrentRowSum(t)},RulloRow.prototype.countCurrentSum=function(){let e,t=0;for(let n=0;n<this.getBalls().length;n++)(e=this.getBall(n)).isEnabled()&&(t+=e.getNumber());this.setCurrentRowSum(t)},RulloRow.prototype.updateCurrentSum=function(){this.getSum().setCurrentSum(this.getCurrentRowSum());let e=this.getSum().isCompleted(),t=this.getRowElement().querySelectorAll(".sum--current");for(let n of t)console.log("update"),n.querySelector(".sum__number").innerText=this.getCurrentRowSum(),e?n.parentElement.classList.add("sum--completed"):(this.getSum().setLocked(!1),n.parentElement.classList.remove("sum--completed"))},RulloRow.prototype.addLongClickEvent=function(e){let t,n=this.getSum();e.addEventListener("mousedown",function(){t=setTimeout(function(){n.isCompleted()?(console.log("Suma kompletna"),n.isLocked()?[].forEach.call(this.getBalls(),function(e){e.setLocked(!1),e.getBallElement().classList.remove("ball--locked"),n.setLocked(!1)}):[].forEach.call(this.getBalls(),function(e){e.setLocked(!0),e.getBallElement().classList.add("ball--locked"),n.setLocked(!0)})):console.log("Suma niekompletna")}.bind(this),500)}.bind(this)),e.addEventListener("mouseup",function(){clearTimeout(t)})},RulloRow.prototype.createRowElement=function(){let e,t,n,l,s=document.createElement("div");s.classList.add("row"),t=new RulloSum(this.getTargetRowSum(),this.getCurrentRowSum()),this.setSum(t),this.addLongClickEvent(t.getTargetSumElement()),n=t.getSumElement(),s.appendChild(n);for(let t=0;t<this.getNumbers().length;t++)(e=new RulloBall(this.getNumber(t))).setRulloRow(this),this.addBall(e),s.appendChild(e.getBallElement());let i=(l=n.cloneNode(!0)).querySelector(".sum--target");this.addLongClickEvent(i),s.appendChild(l),this.setRowElement(s)},RulloRow.prototype.generateTargetRowSum=function(){let e,t,n=this.getNumbers().length,l=Math.floor(Math.random()*(n-2)+1);console.log("Ignoruję "+l+"/"+n),e=ignoreRandomBalls(this.getNumbers(),l),this.setTargetNumbers(e),console.log(this.getNumbers(),"----\x3e",e),t=sumArrayElements(e),console.log("Target: "+t+"/"+this.getTotalRowSum()),this.setTargetRowSum(t)};let RulloColumn=function(e,t){var n=e,l=(t=t,-1),s=[],i=-1,o=-1,u=null,r=null,a=null;this.getRowsArray=function(){return n},this.getRowArray=function(e){return n[e]},this.getIndex=function(){return t},this.getCurrentColumnSum=function(){return l},this.setCurrentColumnSum=function(e){l=e},this.addNumberToColumn=function(e){s.push(e)},this.getTargetColumnSum=function(){return i},this.setTargetColumnSum=function(e){i=e},this.getTotalColumnSum=function(){return o},this.setTotalColumnSum=function(e){o=e},this.getSum=function(){return u},this.setSum=function(e){u=e},this.getTopSumElement=function(){return r},this.setTopSumElement=function(e){r=e},this.getBottomSumElement=function(){return a},this.setBottomSumElement=function(e){a=e},this.initColumnArray();let c=new RulloSum(this.getTargetColumnSum(),this.getCurrentColumnSum());this.setSum(c);let m=c.getSumElement();this.setTopSumElement(m),this.setBottomSumElement(m.cloneNode(!0)),this.addLongClickEventsForSum()};RulloColumn.prototype.initColumnArray=function(){let e,t,n,l=0,s=0;for(let i=0;i<this.getRowsArray().length;i++)(n=this.getRowArray(i).getBall(this.getIndex())).setRulloColumn(this),l+=e=this.getRowArray(i).getNumber(this.getIndex()),s+=t=this.getRowArray(i).getTargetNumber(this.getIndex()),this.addNumberToColumn(e);this.setCurrentColumnSum(l),this.setTargetColumnSum(s),this.setTotalColumnSum(l)},RulloColumn.prototype.countCurrentSum=function(){let e,t,n=0,l=this.getIndex();for(let s=0;s<this.getRowsArray().length;s++)(t=(e=this.getRowArray(s)).getBall(l)).isEnabled()&&(n+=t.getNumber());this.setCurrentColumnSum(n)},RulloColumn.prototype.updateCurrentSum=function(){let e;this.getSum().setCurrentSum(this.getCurrentColumnSum());let t=this.getSum().isCompleted(),n=document.querySelectorAll(".row:first-child, .row:last-child");for(let l of n)(e=l.querySelectorAll(".sum")[this.getIndex()]).querySelector(".sum--current .sum__number").innerText=this.getCurrentColumnSum(),t?e.classList.add("sum--completed"):e.classList.remove("sum--completed")},RulloColumn.prototype.addLongClickEvent=function(e){let t;e.addEventListener("mousedown",function(){console.log("mousedown"),t=setTimeout(function(){console.log("long"),this.getSum().isCompleted()?(console.log("Suma kompletna"),this.getSum().isLocked()?[].forEach.call(this.getRowsArray(),function(e){e.getBall(this.getIndex()).setLocked(!1),e.getBall(this.getIndex()).getBallElement().classList.remove("ball--locked"),this.getSum().setLocked(!1)}.bind(this)):[].forEach.call(this.getRowsArray(),function(e){e.getBall(this.getIndex()).setLocked(!0),e.getBall(this.getIndex()).getBallElement().classList.add("ball--locked"),this.getSum().setLocked(!0)}.bind(this))):console.log("Suma niekompletna")}.bind(this),500)}.bind(this)),e.addEventListener("mouseup",function(){console.log("mouseup"),clearTimeout(t)})},RulloColumn.prototype.addLongClickEventsForSum=function(){let e=this.getTopSumElement().querySelector(".sum--target"),t=this.getBottomSumElement().querySelector(".sum--target");this.addLongClickEvent(e),this.addLongClickEvent(t)};let Rullo=function(e,t,n){var l=e,s=t,i=[],o=[];this.options=Object.assign({},{dim:5,min:1,max:9},n),this.getGameContainer=function(){return l},this.getGameTimer=function(){return s},this.addRow=function(e){i.push(e)},this.getRows=function(){return i},this.getRow=function(e){return i[e]},this.addColumn=function(e){o.push(e)},this.getColumns=function(){return o},this.getColumn=function(e){return o[e]},this.initRows(),this.initColumns(),this.initGameContainer(),setTimeout(function(){s.start()},800)};function prefixZero(e){return e<10?"0"+e:e}function formatDate(e){var t=prefixZero(e.getSeconds()),n=prefixZero(e.getMinutes()),l=prefixZero(e.getHours()),s=prefixZero(e.getDate()),i=prefixZero(e.getMonth()+1);return e.getFullYear()+"/"+i+"/"+s+" "+l+":"+n+":"+t}Rullo.prototype.initRows=function(){let e,t,n=this.options.min,l=this.options.max;console.log("INITROWS "+n+" "+l);let s="";for(let i=1;i<=this.options.dim;i++){let o=[];for(let t=1;t<=this.options.dim;t++)e=Math.floor(Math.random()*(l-n+1)+n),console.log("RANDOMNUMBER "+e+" MIN "+n+" MAX "+l),s+=e+" ",o.push(e);t=new RulloRow(o),this.addRow(t),s+=" | "+this.getRow(i-1).getCurrentRowSum(),s+="\n"}console.log(s)},Rullo.prototype.initColumns=function(){let e;for(let t=0;t<this.options.dim;t++)e=new RulloColumn(this.getRows(),t),this.addColumn(e),console.log("Kolumna "+(t+1)+": "+e.getCurrentColumnSum())},Rullo.prototype.checkColumnSums=function(){for(let e of this.getColumns()){let t=e.getSum().isCompleted(),n=document.querySelectorAll(".row:first-child, .row:last-child");for(let l of n)sumElem=l.querySelectorAll(".sum")[e.getIndex()],t?sumElem.classList.add("sum--completed"):sumElem.classList.remove("sum--completed")}},Rullo.prototype.checkGameState=function(){for(let e of this.getRows())if(!e.getSum().isCompleted())return!1;for(let e of this.getColumns())if(!e.getSum().isCompleted())return!1;return!0},Rullo.prototype.saveGameResult=function(){let e=localStorage.getItem("gamesNumber");null===e&&(e=0),localStorage.setItem("gamesNumber",++e);let t={id:e,dim:this.options.dim,min:this.options.min,max:this.options.max,isWin:!0,time:this.getGameTimer().getStringTime(),datetime:formatDate(new Date)};console.log(t),console.log(JSON.stringify(t)),localStorage.setItem("game-"+e,JSON.stringify(t))},Rullo.prototype.registerBallsListeners=function(){let e=document.querySelectorAll(".ball");for(let t of e)t.addEventListener("click",function(){this.checkGameState()&&(this.getGameTimer().stop(),setTimeout(function(){console.log(this.getGameTimer().getStringTime()),this.showResultPopup(this.getGameTimer().getStringTime()),this.saveGameResult()}.bind(this),300))}.bind(this))},Rullo.prototype.createSumRow=function(e){let t=document.createElement("div");if(t.classList.add("row"),e)for(let e=0;e<this.getColumns().length;e++)sumElement=this.getColumn(e).getTopSumElement(),t.appendChild(sumElement);else for(let e=0;e<this.getColumns().length;e++)sumElement=this.getColumn(e).getBottomSumElement(),t.appendChild(sumElement);return t},Rullo.prototype.initGameContainer=function(){let e,t;e=this.createSumRow(!0),this.getGameContainer().appendChild(e);for(let e=0;e<this.getRows().length;e++)this.getGameContainer().appendChild(this.getRow(e).getRowElement());t=this.createSumRow(!1),this.getGameContainer().appendChild(t),this.checkColumnSums(),this.registerBallsListeners(),RulloSum.addSumMouseHoverEvents(".row:first-child .sum .sum--target",".row:last-child .sum .sum--target"),RulloSum.addSumMouseHoverEvents(".row:not(:first-child):not(:last-child) .sum:first-child .sum--target",".row:not(:first-child):not(:last-child) .sum:last-child .sum--target"),RulloSum.addSumClickEvents(".row:first-child .sum",".row:last-child .sum"),RulloSum.addSumClickEvents(".row:not(:first-child):not(:last-child) .sum:first-child",".row:not(:first-child):not(:last-child) .sum:last-child")},Rullo.prototype.reset=function(){console.log("reset"),[].forEach.call(this.getRows(),function(e){for(let t of e.getBalls())t.reset();e.countCurrentSum(),e.updateCurrentSum(),e.getSum().setLocked(!1)}),[].forEach.call(this.getColumns(),function(e){e.countCurrentSum(),e.updateCurrentSum()})},Rullo.prototype.showResultPopup=function(e){let t=document.createElement("div");t.classList.add("result-container");let n=document.createElement("div");n.classList.add("result-popup");let l=document.createElement("div");l.classList.add("result-message"),l.innerText="Gratulacje! Twój wynik:";let s=document.createElement("div");s.classList.add("result-time"),s.innerText=e;let i=document.createElement("div");i.classList.add("result-menu");let o=document.createElement("a");o.classList.add("fas","fa-home","menu-button"),o.setAttribute("href","index.html");let u=document.createElement("i");u.classList.add("fas","fa-save","menu-button"),u.addEventListener("click",function(){console.log("save result")}),i.appendChild(o),i.appendChild(u),n.appendChild(l),n.appendChild(s),n.appendChild(i),t.appendChild(n),document.querySelector("body").appendChild(t)};const GameMenu=function(){var e=null,t=null,n=null,l=null;this.setGame=function(e){t=e},(e=document.createElement("div")).classList.add("game-menu"),(n=document.createElement("a")).classList.add("fas","fa-home","menu-button"),n.setAttribute("href","index.html"),(l=document.createElement("i")).classList.add("fas","fa-sync-alt","menu-button"),l.addEventListener("click",function(){t.reset()}),e.appendChild(n),e.appendChild(l),this.getElement=function(){return e}};var ClassicMenu=function(){var e=null,t=null,n=null,l=null,s=1,i="1-9",o=null,u=null,r="",a=function(e,t,n){const l=new SimpleTimer,s=document.createElement("div");s.classList.add("game-container");const i=document.createElement("div");i.classList.add("game-menu-container"),i.appendChild(l.getElement());const o=new GameMenu(this);i.appendChild(o.getElement()),document.querySelector(".container").appendChild(s),document.querySelector(".container").appendChild(i),document.querySelector(".container").classList.add("container--visible","container--"+e);let u={dim:e,min:t,max:n};const r=new Rullo(document.querySelector(".game-container"),l,u);o.setGame(r)};function c(){let e=GameResultsHelper.initialize();[].forEach.call(u,function(t){let n=t.dataset.sizeDim,s=l.dataset.rangeMin,i=l.dataset.rangeMax,o=e.getModeWins(n,s,i);t.parentElement.querySelector(".size-wins-number").innerText=o})}e=document.querySelector(".classic-menu"),t=document.querySelector(".rullo-logo"),n=e.querySelectorAll(".range"),l=e.querySelector(".range--chosen"),o=e.querySelector(".chosen-range-line"),u=e.querySelectorAll(".size"),[].forEach.call(n,function(e){e.addEventListener("click",function(){if(l!==this){let e=this.dataset.rangeIndex;o.classList.remove("chosen-range-line-"+s),s=e,o.classList.add("chosen-range-line-"+s),l.classList.remove("range--chosen"),i=(l=this).innerText,l.classList.add("range--chosen"),c()}})}),[].forEach.call(u,function(n){n.addEventListener("click",function(){let n,s,o;r=this.innerText,console.log("Wybrane ustawienia: RANGE: "+i+", SIZE: "+r),n=parseInt(this.dataset.sizeDim),s=parseInt(l.dataset.rangeMin),o=parseInt(l.dataset.rangeMax),console.log("DIM: "+n+", MIN: "+s+", MAX: "+o),t.classList.add("rullo-logo--invisible"),e.classList.add("classic-menu--fadeOut"),t.addEventListener("animationend",function(){document.querySelector(".menu-container").classList.add("menu-container--invisible"),a(n,s,o)})})}),c()};const ResultsMenu=function(){var e=document.querySelector(".results-container"),t=GameResultsHelper.initialize(),n=e.querySelectorAll(".range"),l=e.querySelectorAll(".size"),s=e.querySelector(".range--chosen"),i=e.querySelector(".size--chosen"),o=e.querySelector(".chosen-range-bg"),u=e.querySelector(".chosen-size-bg");function r(){let t="dim-"+i.dataset.sizeDim+"-min-"+s.dataset.rangeMin+"-max-"+s.dataset.rangeMax,n=e.querySelector(".results-group--chosen");null!==n&&n.classList.remove("results-group--chosen"),(n=e.querySelector('[data-group-name="'+t+'"]')).classList.add("results-group--chosen")}[].forEach.call(n,function(e){e.addEventListener("click",function(){this!==s&&(o.classList.remove("chosen-range-bg-"+s.dataset.rangeIndex),s=this,o.classList.add("chosen-range-bg-"+s.dataset.rangeIndex),r())})}),[].forEach.call(l,function(e){e.addEventListener("click",function(){this!==i&&(u.classList.remove("chosen-size-bg-"+i.dataset.sizeIndex),i=this,u.classList.add("chosen-size-bg-"+i.dataset.sizeIndex),r())})}),function(){let n,l=document.createElement("div");l.classList.add("results-groups-wrapper");let s=[5,6,7,8],i=[{min:1,max:9},{min:1,max:19},{min:2,max:4}];for(dim of s)for(range of i)n=t.getResultsView(dim,range.min,range.max),l.appendChild(n);e.appendChild(l)}(),r();let a=document.createElement("div");a.classList.add("buttons-container"),a.appendChild(GameResultView.createClearButton()),a.appendChild(GameResultView.createExportButton()),a.appendChild(GameResultView.createImportButton()),e.insertBefore(a,e.querySelector(".results-menu")),e.classList.remove("invisible")},MainMenu=function(){var e=null,t=null,n=null,l=null,s=null,i=null;function o(){e.classList.add("main-menu--invisible"),n.classList.remove("classic-menu--invisible")}function u(){e.classList.add("main-menu--invisible"),new ResultsMenu}function r(){l.classList.add("main-menu-item--invisible"),s.classList.add("main-menu-item--invisible"),i.classList.add("main-menu-item--invisible"),t.classList.add("main-menu-item--invisible")}document.querySelector(".menu-container"),e=document.querySelector(".main-menu"),document.querySelector(".rullo-logo"),t=document.querySelector(".classic-mode"),n=document.querySelector(".classic-menu"),l=document.querySelector(".endless-mode"),s=document.querySelector(".tutorial"),i=document.querySelector(".results"),t.addEventListener("click",function(){r(),this.addEventListener("animationend",o)}),l.addEventListener("click",function(){}),s.addEventListener("click",function(){}),i.addEventListener("click",function(){r(),this.addEventListener("animationend",u)})};document.addEventListener("DOMContentLoaded",function(){new MainMenu,new ClassicMenu});